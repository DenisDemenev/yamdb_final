[![workflow](https://github.com/DenisDemenev/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)]

REST API для сервиса YaMDb — базы отзывов о фильмах, книгах и музыке.
Проект YaMDb собирает отзывы (Review) пользователей на произведения (Title). Произведения делятся на категории: «Книги», «Фильмы», «Музыка». Список категорий (Category) может быть расширен (например, можно добавить категорию «Изобразительное искусство» или «Ювелирка»).

Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.

В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории «Книги» могут быть произведения «Винни Пух и все-все-все» и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Насекомые» и вторая сюита Баха. Произведению может быть присвоен жанр из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»). Новые жанры может создавать только администратор.

Благодарные или возмущённые читатели оставляют к произведениям текстовые отзывы (Review) и выставляют произведению рейтинг (оценку в диапазоне от одного до десяти). Из множества оценок автоматически высчитывается средняя оценка произведения.

Подготовка к работе:
Клонируйте репозиторий на локальную машину.

git clone https://github.com/DenisDemenev/infra_sp2

В папке infra необходимо создать файл .env и заполнить его по образцу:

DB_ENGINE=django.db.backends.postgresql # указываем, что работаем с postgresql
DB_NAME=postgres # имя базы данных
POSTGRES_USER=postgres # логин для подключения к базе данных
POSTGRES_PASSWORD=postgres # пароль для подключения к БД (установите свой)
DB_HOST=db # название сервиса (контейнера)
DB_PORT=5432 # порт для подключения к БД 

Запустите процесс сборки и запуска контейнеров. Для запуска в фоновом режиме примените ключ -d

docker-compose up
Запустите терминал внутри контейнера (команду необходимо выполнить в папке с файлом docker-compose.yaml (infra))

docker-compose exec web bash

Примените миграцию базы данных, выполните в терминале контейнера команду

python manage.py migrate

Для работы с админкой Django необходимо создать суперюзера

python manage.py createsuperuser

По желанию можно загрузить в базу тестовые данные

python manage.py loaddata fixtures.json

Остановить работу и удалить контейнеры можно командой

docker-compose down


Над проектом работали:

Константин Бурков - Управление пользователями: система регистрации и аутентификации, права доступа, работа с токеном, система подтверждения e-mail, поля.

Денис Деменев. Категории, жанры и произведения: модели, view и эндпойнты, права доступа для запросов.

Денис Разгоняев. Отзывы и комментарии: модели и view, эндпойнты, права доступа для запросов. Рейтинги произведений.
